<Application
    x:Class="PlaylistArchivizer.UI.WPF.App"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    DispatcherUnhandledException="Application_DispatcherUnhandledException">

    <Application.Resources>

        <!--  Colors  -->
        <SolidColorBrush x:Key="PrimaryBackgroundBrush" Color="#2D2D30" />
        <SolidColorBrush x:Key="SecondaryBackgroundBrush" Color="#3E3E42" />
        <SolidColorBrush x:Key="PrimaryForegroundBrush" Color="#E0E0E0" />
        <SolidColorBrush x:Key="HoverBackgroundBrush" Color="#5A5A5D" />
        <SolidColorBrush x:Key="PressedBackgroundBrush" Color="#1E1E1F" />
        <SolidColorBrush x:Key="CheckedBackgroundBrush" Color="#494949" />

        <!--  Text  -->
        <Style TargetType="Label">
            <Setter Property="Foreground" Value="{StaticResource PrimaryForegroundBrush}" />
        </Style>

        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource PrimaryForegroundBrush}" />
        </Style>

        <!--  Buttons base  -->
        <Style x:Key="BaseButtonStyle" TargetType="ButtonBase">
            <Setter Property="FontSize" Value="20" />
            <Setter Property="Background" Value="{StaticResource PrimaryBackgroundBrush}" />
            <Setter Property="Foreground" Value="{StaticResource PrimaryForegroundBrush}" />
            <Setter Property="Padding" Value="30,6" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="BorderBrush" Value="{StaticResource SecondaryBackgroundBrush}" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="FontFamily" Value="Segoe UI Emoji" />
            <Setter Property="Margin" Value="0,10" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ButtonBase">
                        <Border
                            Padding="{TemplateBinding Padding}"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="10">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center">
                                <ContentPresenter.ContentTemplate>
                                    <DataTemplate>
                                        <TextBlock
                                            Text="{Binding}"
                                            TextAlignment="Center"
                                            TextWrapping="Wrap" />
                                    </DataTemplate>
                                </ContentPresenter.ContentTemplate>
                            </ContentPresenter>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="{StaticResource HoverBackgroundBrush}" />
                    <Setter Property="BorderBrush" Value="{StaticResource HoverBackgroundBrush}" />
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="{StaticResource PressedBackgroundBrush}" />
                    <Setter Property="BorderBrush" Value="#707070" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <!--  Buttons  -->
        <Style BasedOn="{StaticResource BaseButtonStyle}" TargetType="Button" />

        <Style BasedOn="{StaticResource BaseButtonStyle}" TargetType="ToggleButton">
            <Style.Triggers>
                <Trigger Property="IsChecked" Value="True">
                    <Setter Property="Background" Value="{StaticResource CheckedBackgroundBrush}" />
                    <Setter Property="BorderBrush" Value="{StaticResource HoverBackgroundBrush}" />
                </Trigger>
            </Style.Triggers>
        </Style>

        <!--  ContextMenu  -->
        <Style TargetType="{x:Type ContextMenu}">
            <Setter Property="Background" Value="{StaticResource PrimaryBackgroundBrush}" />
            <Setter Property="BorderBrush" Value="{StaticResource SecondaryBackgroundBrush}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="2" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ContextMenu}">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="4">
                            <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Cycle" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="{x:Type MenuItem}">
            <Setter Property="Foreground" Value="{StaticResource PrimaryForegroundBrush}" />
            <Setter Property="Padding" Value="6,6" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type MenuItem}">
                        <Border
                            x:Name="Border"
                            Background="Transparent"
                            BorderThickness="0"
                            CornerRadius="2"
                            SnapsToDevicePixels="True">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="30" SharedSizeGroup="IconColumnGroup" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <!--  Icon  -->
                                <ContentPresenter
                                    Margin="5,0"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    ContentSource="Icon" />

                                <!--  Header  -->
                                <ContentPresenter
                                    Grid.Column="1"
                                    Margin="{TemplateBinding Padding}"
                                    VerticalAlignment="Center"
                                    ContentSource="Header"
                                    RecognizesAccessKey="True" />
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="Border" Property="Background" Value="{StaticResource HoverBackgroundBrush}" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--  Datagrid  -->
        <Style TargetType="DataGridColumnHeader">
            <Setter Property="Foreground" Value="{StaticResource PrimaryForegroundBrush}" />
            <Setter Property="Background" Value="{StaticResource PrimaryBackgroundBrush}" />
            <Setter Property="FontSize" Value="20" />
            <Setter Property="Padding" Value="6" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="DataGridColumnHeader">
                        <Grid>
                            <Border
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                            </Border>
                            <Path
                                x:Name="sortArrow"
                                Margin="0,0,10,0"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Center"
                                Data="M 0 0 L 4 4 L 8 0 Z"
                                Fill="White"
                                Visibility="Collapsed" />
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="SortDirection" Value="Ascending">
                                <Setter TargetName="sortArrow" Property="Visibility" Value="Visible" />
                                <Setter TargetName="sortArrow" Property="RenderTransform">
                                    <Setter.Value>
                                        <RotateTransform Angle="180" />
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="SortDirection" Value="Descending">
                                <Setter TargetName="sortArrow" Property="Visibility" Value="Visible" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="DataGridRow">
            <Setter Property="Foreground" Value="{StaticResource PrimaryForegroundBrush}" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="FontSize" Value="20" />
            <Setter Property="Padding" Value="6" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="BorderBrush" Value="Transparent" />
        </Style>

    </Application.Resources>
</Application>